<div dir="rtl">
    <div class="flexContainer" style="flex-direction: row;justify-content: space-between;">
        <div class="boldText" [routerLink]="['']" [queryParams]="{search: true}" matDialogClose>&nbsp;חזרה</div>
        <div class="boldText" style="font-size: x-large;padding-left: 50px;">נוקאאוט</div>
        <div></div>
    </div>
    <div class="flexContainer" style="flex-direction: row;justify-content: space-between;margin-top: 15px;">
        <div class="winner" style="width: 50%;height: 30vh;">
            <app-results-car-card dir="ltr" [car]="cars[1]" class="resultsCard"></app-results-car-card>
        </div>
        <div class="looser" style="width: 50%;height: 30vh;">
            <app-results-car-card dir="rtl" [car]="cars[0]" class="resultsCard"></app-results-car-card>
        </div>
    </div>
    <div class="buttonsContainer flexContainer" style="flex-direction: row;justify-content: space-around;">
        <div (click)="setFocus('general')" [ngClass]="getFocus()==='general'?'focus':''">
            כללי
        </div>
        <div (click)="setFocus('tech')" [ngClass]="getFocus()==='tech'?'focus':''">
            טכנולוגיות
        </div>
        <div (click)="setFocus('votes')" [ngClass]="getFocus()==='votes'?'focus':''">
            הצבעות
        </div>
    </div>
</div>
<div id="general" dir="rtl">
    <div class="flexContainer" style="flex-direction: row;">
        <div style="width: 33%;">
            <app-result-card [car]="cars[0]" [totalRank]="totalRank[0]" [winner]="winnerIndex===0?true:false"></app-result-card>
        </div>
        <div style="position: static;
        width: 33%;
        display: flex;
        justify-content: center;
        z-index: 100;">
            <img class="carImage" style="left: 0;" [ngStyle]="totalRank[0] && totalRank[1] ?{'bottom': totalRank[0]-totalRank[1]*5+'px'}:{}" src="assets/abstractCar.png" alt="">
            <img class="carImage" style="right: 0;" [ngStyle]="totalRank[0] && totalRank[1] ?{'bottom': totalRank[1]-totalRank[0]*5+'px'}:{}" src="assets/abstractCar.png" alt="">
        </div>
        <div style="width: 33%;position: absolute;">
            <div style="display: flex;
            flex-direction: column;
            align-items: center;margin-top: 30px;">
                <img style="width: 62%;" src="assets/finishLine.png" alt="">
                <img style="width: 62%;height: 11vh;" src="assets/finishLineShadow.png" alt="">
            </div>
            <div class="innerText">השוואה כללית</div>
        </div>
        <div style="width: 33%;">
            <app-result-card [car]="cars[1]" [totalRank]="totalRank[1]" [winner]="winnerIndex===1?true:false"></app-result-card>
        </div>
    </div>
    <div class="innerText">
        {{cars[looserIndex].company}} {{cars[looserIndex].model}} עדיפה על  {{cars[winnerIndex].company}} {{cars[winnerIndex].model}} <br>
        ב {{winningParameters}} פרמטרים
    </div>
    <hr>
    <app-comparing-graph [bigIsGood]="true" [cars]="cars" [paramName]="'קמ'" [bottomText]="'טווח סוללה'" [values]="[cars[0].batteryRange!,cars[1].batteryRange!]"></app-comparing-graph>
    <hr>
    <app-comparing-graph [bigIsGood]="false" [cars]="cars" [paramName]="'דקות'" [bottomText]="'מהירות טעינה'" [values]="[cars[0].chargingSpeed!,cars[1].chargingSpeed!]"></app-comparing-graph>
</div>